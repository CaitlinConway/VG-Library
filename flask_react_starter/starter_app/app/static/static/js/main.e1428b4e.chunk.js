(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{31:function(e,t,a){e.exports=a(43)},36:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),o=a.n(s),i=(a(36),a(1)),u=a.n(i),c=a(3),l=a(16),m=a(30),p=a(5),d=a(6),f=a(4);var g=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,"Username:")," ",e.user.username,r.a.createElement("br",null),r.a.createElement("strong",null,"Email:")," ",e.user.email,r.a.createElement("br",null),r.a.createElement("hr",null))};var h=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),s=a[0],o=a[1];Object(n.useEffect)((function(){function e(){return(e=Object(c.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users/");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,o(a.users);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var i=s.map((function(e){return r.a.createElement(g,{key:e.id,user:e})}));return console.log("____Rendering User List____"),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"User List: "),i)},v="auth/login";var b=function(e,t,a,n,r){return{type:v,id:e,email:t,firstName:a,lastName:n,zipCode:r}},E=function(e,t){return function(){var a=Object(c.a)(u.a.mark((function a(n){var r,s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/api/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});case 2:if(!(r=a.sent).ok){a.next=8;break}return a.next=6,r.json();case 6:s=a.sent,n(b(s.id,s.email,s.firstName,s.lastName,s.zipCode));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},y=a(7),w=a(8),q=a(10),j=a(9),N=function(e){Object(q.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.email,r=t.password;n.props.login(a,r)},n.updateEmail=function(e){n.setState({email:e.target.value})},n.updatePassword=function(e){n.setState({password:e.target.value})},n.demoUserLogin=function(e){e.preventDefault();n.props.login("guest@guest.com","password")},n.state={email:"",password:""},n}return Object(w.a)(a,[{key:"render",value:function(){if(this.props.isLoggedIn)return r.a.createElement(p.a,{to:"/"});var e=this.state,t=e.email,a=e.password;return r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"login-background"}),r.a.createElement("div",{className:"login-page-div"},r.a.createElement("div",{className:"login-form-header"},"Welcome!"),r.a.createElement("div",{className:"error-container"},r.a.createElement("ul",{id:"errors",className:"errors"})),r.a.createElement("div",{className:"login-form-div"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement("div",{className:"login-form-email-header"},"Email"),r.a.createElement("input",{className:"login-input",type:"email",value:t,onChange:this.updateEmail}),r.a.createElement("div",{className:"login-form-email-header"},"Password"),r.a.createElement("div",null,r.a.createElement("input",{className:"login-input",type:"password",value:a,onChange:this.updatePassword})),r.a.createElement("div",{className:"login-sign-in-button"},r.a.createElement("button",{type:"submit",className:"login-button"},"Sign In")))),r.a.createElement("form",{onSubmit:this.demoUserLogin,className:"login-sign-in-button"},r.a.createElement("button",{type:"submit",className:"login-sign-in-button"},"Demo User"))))}}]),a}(r.a.Component),O=Object(f.b)((function(e){return{isLoggedIn:!!e.auth.id}}),(function(e){return{login:function(t,a){return e(E(t,a))}}}))(N),F=function(e){Object(q.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).updateFirstName=function(e){n.setState({firstName:e.target.value})},n.updateLastName=function(e){n.setState({lastName:e.target.value})},n.updateEmail=function(e){n.setState({email:e.target.value})},n.updateZipCode=function(e){n.setState({zipCode:e.target.value})},n.updatePassword=function(e){n.setState({password:e.target.value}),e.target.value.length<8&&e.target.value.length>0?n.setState({errors:"Your password must be at least 8 characters."}):n.setState({errors:""})},n.handleSubmit=function(){var e=Object(c.a)(u.a.mark((function e(t){var a,r,s,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=n.state,r=a.firstName,s=a.lastName,o=a.email,i=a.password,a.zipCode,n.props.signUp(r,s,o,i.zipCode),"none"===document.getElementById("errors").style.display&&(window.location.href="/");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={firstName:"",lastName:"",email:"",password:"",zipCode:"",errors:""},n}return Object(w.a)(a,[{key:"render",value:function(){if(this.props.isLoggedIn)return r.a.createElement(p.a,{to:"/"});var e=this.state,t=e.firstName,a=e.lastName,n=e.email,s=e.password,o=e.errors;e.zipCode;return r.a.createElement("div",{className:"signup-page"},r.a.createElement("img",{src:"",alt:""}),r.a.createElement("div",{className:"signup-form-content"},r.a.createElement("div",{className:"signup-form-div"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"signup-form"},r.a.createElement("input",{className:"signup-input",type:"text",value:t,onChange:this.updateFirstName,placeholder:"First name"}),r.a.createElement("input",{className:"signup-input",type:"text",value:a,onChange:this.updateLastName,placeholder:"Last name"}),r.a.createElement("div",{className:"break"}),r.a.createElement("input",{className:"signup-input",type:"email",value:n,onChange:this.updateEmail,placeholder:"Email"}),r.a.createElement("div",{className:"break"}),r.a.createElement("input",{className:"signup-input",type:"password",value:s,onChange:this.updatePassword,placeholder:"Password (min. 10 characters)"}),r.a.createElement("div",{className:"break"}),r.a.createElement("button",{type:"submit",className:"signup-button"},"Sign up!"),r.a.createElement("span",{className:"signup-text"},"Already signed up?",r.a.createElement("a",{href:"/login",className:"login-link"},"Login to your account here."))))),r.a.createElement("div",{className:"signup-error-container"},r.a.createElement("ul",{id:"errors",className:"errors"},o)))}}]),a}(r.a.Component),k=Object(f.b)((function(e){return{isLoggedIn:!!e.auth.id}}),(function(e){return{signUp:function(t,a,n,r,s){return e(function(e,t,a,n,r){return function(){var s=Object(c.a)(u.a.mark((function s(o){var i,c;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,fetch("/api/users/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:e,lastName:t,email:a,password:n,zipCode:r})});case 2:return i=s.sent,s.next=5,i.json();case 5:i.data=s.sent,c=i.data.error,i.data.error?alert(c):i.ok&&!i.data.error&&o(b(i.data.id,i.data.email,i.data.firstName,i.data.lastName,i.data.zipCode));case 8:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}(t,a,n,r,s))},login:function(t,a){return e(E(t,a))}}}))(F),C=function(e){var t=e.console;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"console-links"},r.a.createElement(d.b,{id:"console-name",to:"/consoles/".concat(t)},t)))},S=function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"ConsoleFeed-div"},r.a.createElement("h1",{className:"ConsoleFeed-title"},"Consoles"),r.a.createElement("ul",{id:"ConsoleFeed"},e.consoles.map((function(e){return r.a.createElement("li",{key:e,id:"console-li"},r.a.createElement(C,{console:e,games:t}))})))))},x=function(e){return{type:"consoles",consoles:e}},P=function(e){return{type:"games",games:e}},T=function(e){return{type:"library",library:e}},B=function(e){return function(){var t=Object(c.a)(u.a.mark((function t(a){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/games/library/".concat(e));case 2:if(!(n=t.sent).ok){t.next=8;break}return t.next=6,n.json();case 6:r=t.sent,a(T(r));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};var I=function(e){Object(q.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).logout=function(t){t.preventDefault(),e.props.logOut()},e}return Object(w.a)(a,[{key:"componentDidMount",value:function(){this.props.getAllConsoles()}},{key:"render",value:function(){return this.props.consoles&&void 0==this.props.user.id?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"homepage-title"},"Play With Pals"),r.a.createElement(S,{consoles:this.props.consoles.consoles,games:this.props.consoles.games}),r.a.createElement("div",{id:"welcome"},"Have you been wanting to try out the latest games but don't have money to buy them? Does your video game collection vastly exceed your free time and you wish they weren't just collecting dust? Play with Pals is here to connect friends together to share their libraries. Users can post their own video game libraries, or request to borrow a game from a friend. Want to start swapping?"),r.a.createElement("div",{id:"welcome-buttons"},r.a.createElement(d.b,{id:"join",to:"/signup"},"Join now!"),r.a.createElement(d.b,{id:"sign-in",to:"/login"},"Already a friend? Sign in here"))):this.props.consoles?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"homepage-title"},"Play With Pals"),r.a.createElement(S,{consoles:this.props.consoles.consoles,games:this.props.consoles.games}),r.a.createElement("div",{id:"welcome"},"Have you been wanting to try out the latest games but don't have money to buy them? Does your video game collection vastly exceed your free time and you wish they weren't just collecting dust? Play with Pals is here to connect friends together to share their libraries. Users can post their own video game libraries, or request to borrow a game from a friend. Want to start swapping?"),r.a.createElement("div",{id:"welcome-buttons"},r.a.createElement("button",{id:"logout-button",onClick:this.logout},"Logout"),r.a.createElement(d.b,{to:"/profile",user:this.props.user,id:"profile-button"},"Account"))):r.a.createElement(r.a.Fragment,null)}}]),a}(r.a.Component),D=Object(f.b)((function(e){return{consoles:e.games.consoles,user:e.auth}}),(function(e){return{getAllConsoles:function(){return e(function(){var e=Object(c.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/games/consoles");case 2:if(!(a=e.sent).ok){e.next=8;break}return e.next=6,a.json();case 6:n=e.sent,t(x(n));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},logOut:function(){return e(function(){var e=Object(c.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users/logout",{method:"DELETE"});case 2:if(!e.sent.ok){e.next=6;break}return t({type:"auth/logout"}),e.abrupt("return","success");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(I);var L=function(e){return{type:"request/new",status:e}},R=function(e){Object(q.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).onSubmit=function(){var e=Object(c.a)(u.a.mark((function e(t){var a,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=n.state,r=a.requestFrom,""==(s=a.requestOf)&&(s=n.props.owners[0]),""!=r){e.next=7;break}return e.abrupt("return",alert("Please log in to borrow games"));case 7:n.props.newRequest(n.props.game,r,s),n.setState({updated:"yes"});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.updateRequest=function(e){e.preventDefault(),n.setState({requestOf:e.target.value})},n.state={game:n.props.game,owners:n.props.owners,requestFrom:n.props.user.id,requestOf:"",requestStatus:"",updated:""},n}return Object(w.a)(a,[{key:"render",value:function(){var e=this.state.requestStatus;return 0!=this.props.owners&&"Success"!=e?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"borrow-from"},"Request to borrow from:"),r.a.createElement("form",{id:"game-borrow-form",onSubmit:this.onSubmit},r.a.createElement("select",{className:"owner-option",value:this.state.requestOf,onChange:this.updateRequest},this.props.owners.map((function(e){return r.a.createElement("option",{value:e},e)}))),r.a.createElement("div",{className:"borrow-button-div"},r.a.createElement("button",{className:"borrow-button-select",type:"submit"},"Borrow")))):0!=this.props.owners&&"Success"==e?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"borrow-requested"},"Requested!")):r.a.createElement(r.a.Fragment,null," ")}}]),a}(r.a.Component),G=Object(f.b)((function(e){return{consoles:e.games.consoles,user:e.auth,requestStatus:e.requests.requestStatus}}),(function(e){return{newRequest:function(t,a,n){return e(function(e,t,a){return function(){var n=Object(c.a)(u.a.mark((function n(r){var s,o;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/gameRequests/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({game:e,requestFrom:t,requestOf:a})});case 2:return s=n.sent,n.next=5,s.json();case 5:o=n.sent,s.ok?(alert("Requested!"),r(L("Success"))):(alert(o.error),r(L("Failure")));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))}}}))(R),z=function(e){var t=e.game,a=e.user,s=Object(n.useState)({}),o=Object(l.a)(s,2),i=o[0],m=o[1],p=Object(n.useState)(0),d=Object(l.a)(p,2),f=d[0],g=d[1];Object(n.useEffect)((function(){function e(){return(e=Object(c.a)(u.a.mark((function e(){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/games/".concat(t));case 2:if(!(a=e.sent).ok){e.next=8;break}return e.next=6,a.json();case 6:n=e.sent,m(n[t].query.search[0].snippet);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=Object(c.a)(u.a.mark((function e(){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/games/owners/".concat(t));case 2:if(!(a=e.sent).ok){e.next=8;break}return e.next=6,a.json();case 6:n=e.sent,g(n.owners);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){n.apply(this,arguments)}(),void 0==a.id&&(document.getElementById("borrow-button-container-".concat(t)).style.display="none")}),[t]);var h=i.toString().split('<span class="searchmatch">').join(" ").split("</span>").join().split(",").join();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"game-feed-divs"},r.a.createElement("div",{id:"game-name"},t),r.a.createElement("div",{id:"game-blurb"},h),r.a.createElement("div",{id:"borrow-button-container-".concat(t),className:"borrow-button-container"},r.a.createElement("button",{id:"borrow-button-".concat(t),className:"borrow-button",onClick:function(e){e.preventDefault();var a=document.getElementById("borrow-form-".concat(t));document.getElementById("borrow-button-".concat(t)).style.display="none",a.style.display="block"}},"Borrow")),r.a.createElement("div",{id:"borrow-form-".concat(t),className:"borrow-form",hidden:!0},r.a.createElement(G,{owners:f,game:t}))))},A=function(e){Object(q.a)(a,e);var t=Object(j.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.console;this.props.getAllGames(e)}},{key:"render",value:function(){var e=this,t=this.props.match.params.console;return this.props.games&&void 0!==this.props.games[t]?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{to:"/",id:"homepage-title"},"Play With Pals"),r.a.createElement("div",{id:"ConsoleFeed-div"},r.a.createElement("h1",{className:"ConsoleFeed-title"},t),r.a.createElement("ul",{id:"ConsoleFeed"},this.props.games[t].map((function(t){return r.a.createElement("li",{key:t,id:"console-game-li"},r.a.createElement(z,{game:t,user:e.props.user}))}))))):r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{to:"/",id:"homepage-title"},"Play With Pals"),r.a.createElement("div",{id:"no-games"},"No games"))}}]),a}(r.a.Component),M=Object(f.b)((function(e){return{games:e.games.games,user:e.auth}}),(function(e){return{getAllGames:function(t){return e(function(e){return function(){var t=Object(c.a)(u.a.mark((function t(a){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/games/console/".concat(e));case 2:if(!(n=t.sent).ok){t.next=8;break}return t.next=6,n.json();case 6:r=t.sent,a(P(r));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(A),U=function(e){Object(q.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).updateConsole=function(e){e.preventDefault(),n.setState({consoleId:e.target.value})},n.updateGame=function(e){e.preventDefault(),n.setState({gameName:e.target.value})},n.handleSubmit=function(){var e=Object(c.a)(u.a.mark((function e(t){var a,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=n.state,r=a.consoleId,s=a.gameName,n.props.addGame(r,s,n.props.user.id);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={consoleId:"",consoleName:"",gameId:"",gameName:""},n}return Object(w.a)(a,[{key:"render",value:function(){var e=this.state,t=(e.consoleId,e.consoleName,e.gameName);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"add-library"},"Add to my library"),r.a.createElement("form",{id:"add-library-form",onSubmit:this.handleSubmit},r.a.createElement("select",{className:"console-option",onChange:this.updateConsole},r.a.createElement("option",{value:1},"N64"),r.a.createElement("option",{value:2},"NES"),r.a.createElement("option",{value:3},"SNES"),r.a.createElement("option",{value:4},"Atari"),r.a.createElement("option",{value:5},"Odyssey 2"),r.a.createElement("option",{value:6},"Wii"),r.a.createElement("option",{value:7},"WiiU"),r.a.createElement("option",{value:8},"PS1"),r.a.createElement("option",{value:9},"PS2"),r.a.createElement("option",{value:10},"PS4"),r.a.createElement("option",{value:11},"Sega Genesis"),r.a.createElement("option",{value:12},"XBOX One"),r.a.createElement("option",{value:13},"Nintendo Switch"),r.a.createElement("option",{value:14},"XBOX 360"),r.a.createElement("option",{value:15},"Steam"),r.a.createElement("option",{value:16},"GameCube"),r.a.createElement("option",{value:17},"Gameboy 3DS"),r.a.createElement("option",{value:18},"Gameboy"),r.a.createElement("option",{value:19},"Gameboy SD"),r.a.createElement("option",{value:20},"Board Games"),r.a.createElement("option",{value:21},"XBOX")),r.a.createElement("input",{className:"game-option",value:t,onChange:this.updateGame}),r.a.createElement("div",{className:"add-library-button-div"},r.a.createElement("button",{className:"add-button",type:"submit"},"Add"))))}}]),a}(r.a.Component),W=Object(f.b)((function(e){return{consoles:e.games.consoles,user:e.auth}}),(function(e){return{addGame:function(t,a,n){return e(function(e,t,a){return function(){var n=Object(c.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/games/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({consoleId:e,gameName:t,userId:a})});case 2:n.sent.ok&&r(B(a));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))}}}))(U),_=function(e){Object(q.a)(a,e);var t=Object(j.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"componentDidMount",value:function(){this.props.getLibrary(this.props.user.id)}},{key:"render",value:function(){return this.props.library?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"library-title"},"My Game Library"),r.a.createElement("div",{id:"library-list"},r.a.createElement("ul",{className:"library-list-ul"},this.props.library.map((function(e){return r.a.createElement("li",{key:e,className:"library-li"},e)}))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"library-title"},"My Game Library")," ")}}]),a}(r.a.Component),J=Object(f.b)((function(e){return{consoles:e.games.consoles,user:e.auth,library:e.games.library}}),(function(e){return{getLibrary:function(t){return e(B(t))}}}))(_),X=function(e){var t=e.requestsTo;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"request-list"},r.a.createElement("ul",{className:"request-list-ul"},t.map((function(e){return r.a.createElement("li",{key:e,className:"request-li"},r.a.createElement("div",null,e.game),r.a.createElement("div",null,"Requested from: ",e.requestTo))})))))},H=function(e){var t=e.requestsFrom;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"request-list"},r.a.createElement("ul",{className:"request-list-ul"},t.map((function(e){return r.a.createElement("li",{key:e,className:"request-li"},r.a.createElement("div",null,e.game),r.a.createElement("div",null,"Requested by: ",e.requestFrom))})))))},Y=function(e){Object(q.a)(a,e);var t=Object(j.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"componentDidMount",value:function(){this.props.getRequests(this.props.user.id)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"pending-request-container"},r.a.createElement("div",{className:"request-title"},"My Pending Requests"),r.a.createElement("div",{className:"waiting-on"},"Waiting on"),this.props.requestsToPending?r.a.createElement(X,{requestsTo:this.props.requestsToPending}):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{className:"from-my-library"},"From my library"),this.props.requestsFromPending?r.a.createElement(H,{requestsFrom:this.props.requestsFromPending}):r.a.createElement(r.a.Fragment,null)),r.a.createElement("div",{id:"borrowed-request-container"},r.a.createElement("div",{className:"request-title"},"My Borrowed Games"),r.a.createElement("div",{className:"waiting-on"},"I've borrowed"),this.props.requestsToBorrowed?r.a.createElement(X,{requestsTo:this.props.requestsToBorrowed}):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{className:"from-my-library"},"From my library"),this.props.requestsFromBorrowed?r.a.createElement(H,{requestsFrom:this.props.requestsFromBorrowed}):r.a.createElement(r.a.Fragment,null)),r.a.createElement("div",{id:"completed-request-container"},r.a.createElement("div",{className:"request-title"},"My Completed Requests"),r.a.createElement("div",{className:"waiting-on"},"I've played"),this.props.requestsToCompleted?r.a.createElement(X,{requestsTo:this.props.requestsToCompleted}):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{className:"from-my-library"},"From my library"),this.props.requestsFromCompleted?r.a.createElement(H,{requestsFrom:this.props.requestsFromCompleted}):r.a.createElement(r.a.Fragment,null)))}}]),a}(r.a.Component),Z=Object(f.b)((function(e){return{user:e.auth,requestsFromPending:e.requests.requestsFromPending,requestsToPending:e.requests.requestsToPending,requestsFromCompleted:e.requests.requestsFromCompleted,requestsToCompleted:e.requests.requestsToCompleted,requestsFromBorrowed:e.requests.requestsFromBorrowed,requestsToBorrowed:e.requests.requestsToBorrowed}}),(function(e){return{getRequests:function(t){return e(function(e){return function(){var t=Object(c.a)(u.a.mark((function t(a){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/gameRequests/".concat(e));case 2:if(!(n=t.sent).ok){t.next=8;break}return t.next=6,n.json();case 6:r=t.sent,a((s=r.requestsFromPending,o=r.requestsToPending,i=r.requestsFromCompleted,u=r.requestsToCompleted,c=r.requestsFromBorrowed,l=r.requestsToBorrowed,{type:"request/get",requestsFromPending:s,requestsToPending:o,requestsFromCompleted:i,requestsToCompleted:u,requestsFromBorrowed:c,requestsToBorrowed:l}));case 8:case"end":return t.stop()}var s,o,i,u,c,l}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Y),K=function(e){Object(q.a)(a,e);var t=Object(j.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{to:"/",id:"homepage-title"},"Play With Pals"),r.a.createElement("div",{id:"profile-header"},"My Profile"),r.a.createElement("div",{id:"library-list-container"},r.a.createElement(J,{user:this.props.user})),r.a.createElement("div",{id:"request-list-container"},r.a.createElement(Z,{user:this.props.user})),r.a.createElement("div",{id:"add-library-container"},r.a.createElement(W,{user:this.props.user})))}}]),a}(r.a.Component),Q=Object(f.b)((function(e){return{consoles:e.games.consoles,user:e.auth}}),(function(e){return{}}))(K),V=Object(f.b)((function(e){return{loggedIn:!!e.auth.id}}),null)((function(e){var t=e.component,a=e.loggedIn,n=Object(m.a)(e,["component","loggedIn"]);return a?r.a.createElement(p.b,Object.assign({},n,{component:t})):r.a.createElement(p.a,{to:"/"})}));var $,ee=function(){var e=Object(n.useState)(!0),t=Object(l.a)(e,2),a=t[0],s=t[1],o=Object(f.c)();return Object(n.useEffect)((function(){(function(){var e=Object(c.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users/current");case 2:if(!(t=e.sent).ok){e.next=8;break}return e.next=6,t.json();case 6:t.data=e.sent,o(b(t.data.userId,t.data.userEmail,t.data.userFirstName,t.data.userLastName,t.data.zipCode));case 8:s(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[o]),a?null:r.a.createElement(d.a,null,r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/login",render:function(e){return r.a.createElement(O,e)}}),r.a.createElement(p.b,{path:"/signup",component:k}),r.a.createElement(p.b,{path:"/consoles/:console",render:function(e){return r.a.createElement(M,e)}}),r.a.createElement(p.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(D,e)}}),r.a.createElement(p.b,{path:"/users"},r.a.createElement(h,null)),r.a.createElement(V,{path:"/profile",render:function(e){return r.a.createElement(Q,e)}})))},te=a(15),ae=a(28),ne=Object(te.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e);switch(t.type){case v:return a.id=t.id,a.email=t.email,a.firstName=t.firstName,a.lastName=t.lastName,a.zipCode=t.zipCode,a;case"auth/logout":return{};default:return e}},games:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e);switch(t.type){case"consoles":return a.consoles=t.consoles,a;case"games":return a.games=t.games,a;case"library":return a.library=t.library.library,a;default:return e}},requests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e);switch(t.type){case"request/new":return a.requestStatus=t.status,a;case"request/edit":return a[t.request.id]=t.request,{};case"request/delete":return delete a[t.requestId],a;case"request/get":return a.requestsFromPending=t.requestsFromPending,a.requestsToPending=t.requestsToPending,a.requestsFromCompleted=t.requestsFromCompleted,a.requestsToCompleted=t.requestsToCompleted,a.requestsFromBorrowed=t.requestsFromBorrowed,a.requestsToBorrowed=t.requestsToBorrowed,a;default:return e}}}),re=a(29),se=a.n(re);$=Object(te.a)(ae.a,se.a);var oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(te.d)(ne,e,$)}();o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f.a,{store:oe},r.a.createElement(ee,null))),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.e1428b4e.chunk.js.map